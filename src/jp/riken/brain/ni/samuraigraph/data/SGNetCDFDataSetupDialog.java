package jp.riken.brain.ni.samuraigraph.data;

import java.util.Map;

import javax.swing.JButton;

import jp.riken.brain.ni.samuraigraph.base.SGDataColumnInfoSet;
import jp.riken.brain.ni.samuraigraph.base.SGIntegerSeriesSet;


/**
 * A dialog to set up the NetCDF data.
 *
 */
public class SGNetCDFDataSetupDialog extends SGDataSetupDialog {

    /**
     * Serial Version UID
     */
    private static final long serialVersionUID = -874015069620292227L;
    
    /**
     * Builds this dialog.
     * 
     * @param owner
     *           the owner of this dialog
     * @param modal
     *           true for modal dialog
     */
    public SGNetCDFDataSetupDialog(java.awt.Frame parent, boolean modal) {
        super(parent, modal);
        initComponents();
        this.initProperty();
    }

    /**
     * Builds this dialog.
     * 
     * @param owner
     *           the owner of this dialog
     * @param modal
     *           true for modal dialog
     */
    public SGNetCDFDataSetupDialog(java.awt.Dialog parent, boolean modal) {
        super(parent, modal);
        initComponents();
        this.initProperty();
    }

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {
        java.awt.GridBagConstraints gridBagConstraints;

        mNetCDFDataSetupPanel = new jp.riken.brain.ni.samuraigraph.data.SGNetCDFDataSetupPanel();
        mButtonPanel = new javax.swing.JPanel();
        mOKButton = new jp.riken.brain.ni.samuraigraph.base.SGButton();
        mCancelButton = new jp.riken.brain.ni.samuraigraph.base.SGButton();

        getContentPane().setLayout(new java.awt.GridBagLayout());
        getContentPane().add(mNetCDFDataSetupPanel, new java.awt.GridBagConstraints());

        mOKButton.setText("OK");
        mOKButton.setFont(new java.awt.Font("Dialog", 1, 12));
        mButtonPanel.add(mOKButton);

        mCancelButton.setText("Cancel");
        mCancelButton.setFont(new java.awt.Font("Dialog", 1, 12));
        mButtonPanel.add(mCancelButton);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        gridBagConstraints.insets = new java.awt.Insets(4, 0, 0, 4);
        getContentPane().add(mButtonPanel, gridBagConstraints);

        pack();
    }// </editor-fold>//GEN-END:initComponents

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JPanel mButtonPanel;
    private jp.riken.brain.ni.samuraigraph.base.SGButton mCancelButton;
    private jp.riken.brain.ni.samuraigraph.data.SGNetCDFDataSetupPanel mNetCDFDataSetupPanel;
    private jp.riken.brain.ni.samuraigraph.base.SGButton mOKButton;
    // End of variables declaration//GEN-END:variables

    
    /**
     * Initialize the properties.
     */
    private void initProperty() {
    }

    /**
     * Returns the OK button of this dialog.
     * 
     * @return the OK button
     */
    protected JButton getOKButton() {
        return this.mOKButton;
    }

    /**
     * Returns the Cancel button of this dialog.
     * 
     * @return the Cancel button
     */
    protected JButton getCancelButton() {
        return this.mCancelButton;
    }

    /**
     * Returns an object that has a table to setup data.
     * 
     * @return an object that has a table to setup data
     */
    protected SGIDataSetupTableHolder getTableHolder() {
        return this.mNetCDFDataSetupPanel;
    }
    
    /**
     * Set information of data columns.
     * 
     * @param data
     *            netCDF data
     * @param colInfoSet
     *            data columns
     * @param infoMap
     *            a map of information
     * @param showDefault
     *            a flag whether to show default column type
     * @return true if succeeded
     */
    public boolean setData(SGNetCDFData data, 
            SGDataColumnInfoSet colInfoSet,
            Map<String, Object> infoMap, final boolean showDefault) {
    	
    	// set the title
    	this.setupTitle(data.getDataType());
    	
    	// set to the panel
        if (this.mNetCDFDataSetupPanel.setData(data, colInfoSet, infoMap,
                showDefault) == false) {
        	return false;
        }
        this.pack();
        
        return true;
    }

	@Override
	protected SGDataSetupPanel getDataSetupPanel() {
		return this.mNetCDFDataSetupPanel;
	}
	
	public String getPickUpDimensionName() {
		return this.mNetCDFDataSetupPanel.getSXYPickUpDimensionName();
	}
	
    /**
     * Returns the indices for picked up dimension of scalar XY data.
     * 
     * @return the indices for picked up dimension of scalar XY data
     */
	public SGIntegerSeriesSet getSXYPickUpIndices() {
		return this.mNetCDFDataSetupPanel.getSXYPickUpIndices();
	}
	
	public SGIntegerSeriesSet getSXYStride() {
		return this.mNetCDFDataSetupPanel.getStride(SGIDataInformationKeyConstants.KEY_SXY_STRIDE);
	}

	public SGIntegerSeriesSet getVXYStrideX() {
		return this.mNetCDFDataSetupPanel.getStride(SGIDataInformationKeyConstants.KEY_VXY_STRIDE_X);
	}

	public SGIntegerSeriesSet getVXYStrideY() {
		return this.mNetCDFDataSetupPanel.getStride(SGIDataInformationKeyConstants.KEY_VXY_STRIDE_Y);
	}

	public SGIntegerSeriesSet getSXYZStrideX() {
		return this.mNetCDFDataSetupPanel.getStride(SGIDataInformationKeyConstants.KEY_SXYZ_STRIDE_X);
	}

	public SGIntegerSeriesSet getSXYZStrideY() {
		return this.mNetCDFDataSetupPanel.getStride(SGIDataInformationKeyConstants.KEY_SXYZ_STRIDE_Y);
	}

	public SGIntegerSeriesSet getSXYIndexStride() {
		return this.mNetCDFDataSetupPanel.getStride(SGIDataInformationKeyConstants.KEY_SXY_INDEX_STRIDE);
	}

	public SGIntegerSeriesSet getVXYIndexStride() {
		return this.mNetCDFDataSetupPanel.getStride(SGIDataInformationKeyConstants.KEY_VXY_INDEX_STRIDE);
	}
	
	public SGIntegerSeriesSet getSXYZIndexStride() {
		return this.mNetCDFDataSetupPanel.getStride(SGIDataInformationKeyConstants.KEY_SXYZ_INDEX_STRIDE);
	}
	
	public SGIntegerSeriesSet getSXYTickLabelStride() {
		return this.mNetCDFDataSetupPanel.getStride(SGIDataInformationKeyConstants.KEY_SXY_TICK_LABEL_STRIDE);
	}

    /**
     * Returns whether stride of data arrays is available.
     * 
     * @return true if stride of data arrays is available
     */
    public boolean isStrideAvailable() {
    	return this.mNetCDFDataSetupPanel.isStrideAvailable();
    }

    public boolean isIndexAvailable() {
    	return this.mNetCDFDataSetupPanel.isIndexAvailable();
    }

}
